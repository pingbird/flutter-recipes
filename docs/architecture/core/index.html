<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Core - ping's cookbook</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114525654-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-114525654-1"); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Core | ping’s cookbook</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="Core" /> <meta property="og:locale" content="en_US" /> <meta property="og:site_name" content="ping’s cookbook" /> <script type="application/ld+json"> {"@type":"WebPage","headline":"Core","url":"/docs/architecture/core/","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <script src="https://i.tst.sh/QQBGy.js"></script> <script type="text/javascript" src="/assets/js/bloglint.js"></script> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="" class="site-title lh-tight"> ping's cookbook </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item"><a href="/" class="navigation-list-link"> About</a></li><li class="navigation-list-item"><a href="/docs/faq/" class="navigation-list-link"> FAQ</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/faq/avd-amd.html" class="navigation-list-link"> Android Emulator on AMD CPUs</a></li><li class="navigation-list-item "><a href="/docs/faq/dart-defines.html" class="navigation-list-link"> Dart defines</a></li><li class="navigation-list-item "><a href="/docs/faq/experiment-not-enabled.html" class="navigation-list-link"> experiment_not_enabled</a></li><li class="navigation-list-item "><a href="/docs/faq/ignore-overflow.html" class="navigation-list-link"> Ignoring overflow</a></li><li class="navigation-list-item "><a href="/docs/faq/intellij-observatory.html" class="navigation-list-link"> IntelliJ Observatory</a></li><li class="navigation-list-item "><a href="/docs/faq/type-system.html" class="navigation-list-link"> Type system</a></li></ul></li><li class="navigation-list-item"><a href="/docs/reverse-engineering/" class="navigation-list-link"> Reverse Engineering</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/reverse-engineering/snapshots.html" class="navigation-list-link"> Snapshots</a></li><li class="navigation-list-item "><a href="/docs/reverse-engineering/dart-sdk.html" class="navigation-list-link"> The Dart SDK</a></li><li class="navigation-list-item "><a href="/docs/reverse-engineering/anatomy-of-a-snapshot.html" class="navigation-list-link"> Anatomy of a snapshot</a></li><li class="navigation-list-item "><a href="/docs/reverse-engineering/rawobject.html" class="navigation-list-link"> RawObject</a></li><li class="navigation-list-item "><a href="/docs/reverse-engineering/hello-world.html" class="navigation-list-link"> Hello, World!</a></li></ul></li><li class="navigation-list-item active"><a href="/docs/architecture/" class="navigation-list-link"> Architecture</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/architecture/countdown.html" class="navigation-list-link"> Countdown</a></li><li class="navigation-list-item "><a href="/docs/architecture/download-progress.html" class="navigation-list-link"> Download Progress</a></li><li class="navigation-list-item active"><a href="/docs/architecture/core/" class="navigation-list-link active"> Core<div class="nav-wip">WIP</div></a><ul class="navigation-list-child-list"><li class="navigation-list-item "> <a href="/docs/architecture/core/project_structure.html" class="navigation-list-link"> Project Structure</a> </li></ul></li><li class="navigation-list-item "><a href="/docs/architecture/nesting-async-builders.html" class="navigation-list-link"> Nesting async builders</a></li><li class="navigation-list-item "><a href="/docs/architecture/safe-async.html" class="navigation-list-link"> Safe Async</a></li></ul></li><li class="navigation-list-item"><a href="/docs/framework/" class="navigation-list-link"> Framework<div class="nav-wip">WIP</div></a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/framework/render-layer/" class="navigation-list-link"> Render Layer<div class="nav-wip">WIP</div></a><ul class="navigation-list-child-list"><li class="navigation-list-item "> <a href="/docs/framework/render-layer/single-child-render-objects.html" class="navigation-list-link"> Single Child Render Objects<div class="nav-wip">WIP</div></a> </li></ul></li></ul></li><li class="navigation-list-item"><a href="/docs/performance/" class="navigation-list-link"> Performance</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/performance/diagnostics.html" class="navigation-list-link"> Diagnostics</a></li><li class="navigation-list-item "><a href="/docs/performance/timeline.html" class="navigation-list-link"> Timeline<div class="nav-wip">WIP</div></a></li></ul></li><li class="navigation-list-item"><a href="/docs/packages/" class="navigation-list-link"> Packages</a></li><li class="navigation-list-item"><a href="/docs/design/" class="navigation-list-link"> Design<div class="nav-wip">WIP</div></a><ul class="navigation-list-child-list "></ul></li></ul> </nav> </div> <!-- <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">By <a href="https://me.tst.sh/">PixelToast</a> - <a href="https://github.com/PixelToast/flutter-recipes/">GitHub</a><br/>Theme based on <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a></p> </footer> --> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search" aria-label="Search" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/architecture/">Architecture</a></li> <li class="breadcrumb-nav-list-item"><span>Core</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <h1 id="core"> <a href="#core" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Core </h1> <p>These are a set of core state management patterns I use in Flutter, most of these patterns are inspired from the Flutter framework itself.</p> <hr /> <h2 id="simplicity"> <a href="#simplicity" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Simplicity </h2> <p>The biggest goal of this article is to provide patterns that make code simpler, and by extension your life easier.</p> <p>Very often I see architectures that simply make your life harder without providing tangible value to a codebase, the biggest example being MVC.</p> <p>Flutter is one of a kind, what works well in other UI frameworks does not necessarily work well in Flutter, which is why I encourage people to use the core patterns the framework instead of trying to shim idioms from other ecosystems into it.</p> <p>Many patterns revolve around separation of business logic and UI, in Flutter this is not an important goal because the widget layer was designed explicitly to accommodate both business logic and UI, without impacting the performance of rendering.</p> <p>Reducers are also not something im a fan of, the primary reason I don’t like reducers is not actually the concept itself but because Dart lacks concise syntax for tagged unions. While it may be a little easier to reason around reducers, I still feel like its too much work to write compared to an object oriented solution.</p> <hr /> <h2 id="dart"> <a href="#dart" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Dart </h2> <p>By far the most underrated tools for state management are core features in Dart itself, I highly recommend reading through the following if you have not already:</p> <ul> <li><a href="https://dart.dev/guides/language/language-tour">Language Tour</a> - A tour of Dart’s basic syntax.</li> <li><a href="https://api.dart.dev/stable/2.8.4/dart-async/dart-async-library.html">dart:async</a> - Documentation for the dart:async library</li> <li><a href="https://api.dart.dev/stable/2.8.4/dart-core/Iterable-class.html">Iterable</a> - The thing that make lists do the thing.</li> </ul> <p>Clever usage of Streams and Iterables will save you an insane amount of work, reading and practicing them are well worth the time.</p> <hr> <h2>See also</h2> <a class="btn-primary" href="/docs/architecture/core/project_structure.html">Project Structure</a> </div> </div> </div> </div> </body> </html>
